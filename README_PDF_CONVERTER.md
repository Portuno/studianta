# üöÄ Conversor de PDF Local

Sistema completo para convertir notas y cuadernos a PDF sin depender de servicios externos como CloudConvert.

## ‚ú® Caracter√≠sticas

- **100% Local**: No se env√≠an datos a servidores externos
- **Alta Calidad**: PDFs con formato profesional
- **Personalizable**: M√∫ltiples opciones de formato y estilo
- **R√°pido**: Conversi√≥n instant√°nea en el navegador
- **Seguro**: Tus datos nunca salen de tu dispositivo

## üõ†Ô∏è Instalaci√≥n

### 1. Eliminar la Edge Function antigua

```bash
rm -rf supabase/functions/convert-to-pdf
```

### 2. Instalar dependencias

```bash
npm install html2pdf.js
```

## üìÅ Estructura de archivos

```
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ usePdfConverter.ts          # Hook principal para conversi√≥n
‚îÇ   ‚îî‚îÄ‚îÄ useNotebookPdfConverter.ts  # Hook especializado para notebooks
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ PdfConverterButton.tsx      # Bot√≥n reutilizable
‚îÇ   ‚îî‚îÄ‚îÄ NotebookPdfConverter.tsx    # Componente completo con opciones
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ pdf.ts                      # Tipos TypeScript
‚îî‚îÄ‚îÄ examples/
    ‚îî‚îÄ‚îÄ PdfConverterExample.tsx     # Ejemplo de uso
```

## üöÄ Uso b√°sico

### Hook simple para conversi√≥n

```tsx
import { usePdfConverter } from './hooks/usePdfConverter';

const MyComponent = () => {
  const { convertToPdf, isConverting } = usePdfConverter();

  const handleConvert = async () => {
    const element = document.getElementById('my-content');
    const result = await convertToPdf(element, {
      filename: 'mi-documento.pdf'
    });
    
    if (result.success) {
      console.log('PDF generado:', result.filename);
    }
  };

  return (
    <button onClick={handleConvert} disabled={isConverting}>
      {isConverting ? 'Convirtiendo...' : 'Convertir a PDF'}
    </button>
  );
};
```

### Hook especializado para notebooks

```tsx
import { useNotebookPdfConverter } from './hooks/useNotebookPdfConverter';

const NotebookComponent = () => {
  const { convertNotebookToPdf, isConverting } = useNotebookPdfConverter();

  const notebook = {
    title: "Mi Cuaderno",
    content: "Contenido del cuaderno...",
    tags: ["estudio", "notas"],
    createdAt: new Date().toISOString()
  };

  const handleConvert = async () => {
    const result = await convertNotebookToPdf(notebook, {
      includeHeader: true,
      includeFooter: true,
      pageSize: 'a4',
      orientation: 'portrait'
    });
  };

  return (
    <button onClick={handleConvert} disabled={isConverting}>
      Convertir Notebook
    </button>
  );
};
```

### Componente completo con opciones

```tsx
import { NotebookPdfConverter } from './components/NotebookPdfConverter';

const App = () => {
  const notebook = {
    title: "Mi Cuaderno de Estudio",
    content: "Contenido...",
    tags: ["estudio", "pdf"],
    createdAt: new Date().toISOString()
  };

  return (
    <NotebookPdfConverter 
      notebook={notebook}
      className="max-w-4xl mx-auto"
    />
  );
};
```

## ‚öôÔ∏è Opciones de configuraci√≥n

### Opciones b√°sicas
- `filename`: Nombre del archivo PDF
- `margin`: M√°rgenes en mil√≠metros
- `pageSize`: Tama√±o de p√°gina (a4, letter, legal)
- `orientation`: Orientaci√≥n (portrait, landscape)

### Opciones de estilo
- `fontSize`: Tama√±o de fuente (8-20px)
- `lineHeight`: Interlineado (1.0-3.0)
- `includeHeader`: Incluir encabezado con t√≠tulo y metadatos
- `includeFooter`: Incluir pie de p√°gina con fecha
- `includePageNumbers`: Incluir n√∫meros de p√°gina

## üîß Personalizaci√≥n avanzada

### Modificar estilos del PDF

```tsx
const customOptions = {
  margin: 20,
  fontSize: 14,
  lineHeight: 1.6,
  includeHeader: true,
  includeFooter: true,
  pageSize: 'letter',
  orientation: 'landscape'
};

const result = await convertNotebookToPdf(notebook, customOptions);
```

### Convertir HTML personalizado

```tsx
const { convertHtmlToPdf } = usePdfConverter();

const htmlContent = `
  <div style="font-family: Arial; font-size: 16px;">
    <h1>Mi T√≠tulo</h1>
    <p>Mi contenido personalizado</p>
  </div>
`;

const result = await convertHtmlToPdf(htmlContent, 'documento.pdf');
```

## üéØ Casos de uso

### 1. Notas de estudio
- Convertir apuntes a PDF para imprimir
- Crear res√∫menes en formato portable
- Generar material de estudio

### 2. Documentos de trabajo
- Convertir reportes a PDF
- Crear presentaciones en formato documento
- Generar documentaci√≥n t√©cnica

### 3. Contenido web
- Convertir art√≠culos de blog
- Crear PDFs de p√°ginas web
- Generar newsletters

## üö® Soluci√≥n de problemas

### Error: "html2pdf is not defined"
- Verifica que `html2pdf.js` est√© instalado
- Importa correctamente: `import html2pdf from 'html2pdf.js'`

### PDF no se genera
- Verifica que el elemento HTML exista en el DOM
- Aseg√∫rate de que el contenido no est√© vac√≠o
- Revisa la consola del navegador para errores

### Calidad del PDF baja
- Aumenta el `scale` en las opciones de html2canvas
- Usa fuentes web-safe (Arial, Times New Roman)
- Evita elementos muy complejos o animaciones

## üîí Seguridad y privacidad

- **Datos locales**: Tu contenido nunca sale de tu dispositivo
- **Sin tracking**: No se env√≠an datos a servicios externos
- **Sin almacenamiento**: Los PDFs se generan y descargan localmente
- **C√≥digo abierto**: Puedes revisar todo el c√≥digo

## üì± Compatibilidad

- ‚úÖ Chrome 60+
- ‚úÖ Firefox 55+
- ‚úÖ Safari 12+
- ‚úÖ Edge 79+
- ‚úÖ Mobile browsers

## ü§ù Contribuir

1. Fork el proyecto
2. Crea una rama para tu feature
3. Commit tus cambios
4. Push a la rama
5. Abre un Pull Request

## üìÑ Licencia

MIT License - Libre para uso personal y comercial

---

**¬°Disfruta convirtiendo tus notas a PDF de forma local y segura! üéâ** 